namespace:
  values:
    namespace:
      name: observability

thanos:
  source:
    url: registry-1.docker.io/bitnamicharts
    targetRevision: 13.1.0
  values:
    existingObjstoreSecret: thanos-storage-config

    queryFrontend:
      enabled: false

    query:
      logFormat: json

    receive:
      enabled: true

      logFormat: json

      tsdbRetention: 3h

      replicaCount: 2

      extraFlags:
        - --hash-func=SHA256
        - --receive.grpc-compression=snappy
        - --receive.hashrings-algorithm=ketama

    compactor:
      enabled: true
      retentionResolutionRaw: 15d
      retentionResolution5m: 30d
      retentionResolution1h: 60d

      extraFlags:
        - --hash-func=SHA256
